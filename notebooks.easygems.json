{"version":3,"kind":"Notebook","sha256":"d9b430115d95e25fa15dd9ade7082b07f425f92d411ad5c3a614b1612d741f58","slug":"notebooks.easygems","location":"/notebooks/01-easygems.ipynb","dependencies":[],"frontmatter":{"title":"easy.gems for HEALPix Analysis & Visualization","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"authors":[{"nameParsed":{"literal":"Project Pythia Community","given":"Project Pythia","family":"Community"},"name":"Project Pythia Community","url":"https://projectpythia.org/","id":"contributors-myst-generated-uid-0"}],"open_access":true,"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true}},"github":"https://github.com/projectpythia/healpix-cookbook","copyright":"2025","affiliations":[{"id":"UAlbany","name":"University at Albany (SUNY)","department":"Atmospheric and Environmental Sciences","url":"https://www.albany.edu/daes"},{"id":"CISL","name":"NSF National Center for Atmospheric Research","department":"Computational and Information Systems Lab","url":"https://www.cisl.ucar.edu"},{"id":"Unidata","name":"NSF Unidata","url":"https://www.unidata.ucar.edu"},{"id":"Argonne","name":"Argonne National Laboratory","department":"Environmental Science Division","url":"https://www.anl.gov/evs"},{"id":"CarbonPlan","name":"CarbonPlan","url":"https://carbonplan.org"},{"id":"NVIDIA","name":"NVIDIA Corporation","url":"https://www.nvidia.com/"}],"numbering":{"title":{"offset":1}},"source_url":"https://github.com/projectpythia/healpix-cookbook/blob/main/notebooks/01-easygems.ipynb","edit_url":"https://github.com/projectpythia/healpix-cookbook/edit/main/notebooks/01-easygems.ipynb","thumbnail":"/healpix-cookbook/build/017413bc2a0a2abc303b8562edfce112.png","exports":[{"format":"ipynb","filename":"01-easygems.ipynb","url":"/healpix-cookbook/build/01-easygems-d4f8bbfe55259a155473625eb5e38212.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"image","url":"/healpix-cookbook/build/017413bc2a0a2abc303b8562edfce112.png","alt":"HEALPix logo","width":"30%","key":"VDV7McVBmp","urlSource":"https://easy.gems.dkrz.de/_images/landing-page-banner.png"}],"key":"vcdcPxCIn0"},{"type":"heading","depth":1,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"easy.gems for HEALPix Analysis & Visualization","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"pgrx6otEpF"}],"identifier":"easy-gems-for-healpix-analysis-visualization","label":"easy.gems for HEALPix Analysis & Visualization","html_id":"easy-gems-for-healpix-analysis-visualization","implicit":true,"key":"Q2tjmv3ju6"},{"type":"heading","depth":3,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"In this section, you‚Äôll learn:","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"SzmJwTyMgg"}],"identifier":"in-this-section-youll-learn","label":"In this section, you‚Äôll learn:","html_id":"in-this-section-youll-learn","implicit":true,"key":"yyNHFpphhv"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":11,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Utilizing intake to open a HEALPix data catalog","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"B9hBy72EyB"}],"key":"QPlKOlA4VU"}],"key":"dXyZpZJlmz"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Using the ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"IhMR4TOw7w"},{"type":"inlineCode","value":"healpix","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"UI4hDR2tdh"},{"type":"text","value":" package to perform HEALPix operations to look at basic statistics","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"AXTwOZdOCM"}],"key":"rqv4nZMjGZ"}],"key":"dSbIjTYkf4"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Plotting HEALPix data via easy.gems functionality","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"fO5SW1CzNl"}],"key":"XLrZXeVc2y"}],"key":"LoKFqs8FNl"}],"key":"uJsUaTfZ4K"},{"type":"heading","depth":3,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Related Documentation","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"qwhJO2yMXs"}],"identifier":"related-documentation","label":"Related Documentation","html_id":"related-documentation","implicit":true,"key":"lp5CtkzpKM"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":17,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://easy.gems.dkrz.de/Processing/healpix/healpix_starter.html#","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Getting started with hierarchical HEALPix data - easy.gems Documentation","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"r0BQbjjyCk"}],"urlSource":"https://easy.gems.dkrz.de/Processing/healpix/healpix_starter.html#","key":"sCkEwTJ940"}],"key":"OEP5KBUpiQ"}],"key":"bbJcP7ojRG"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://easy.gems.dkrz.de/Processing/healpix/healpix_cartopy.html","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Plotting with cartopy - easy.gems Documentation","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"xSKWwZaq4B"}],"urlSource":"https://easy.gems.dkrz.de/Processing/healpix/healpix_cartopy.html","key":"ouag46CQop"}],"key":"albM1bGQd2"}],"key":"HNtl6CRpS3"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://projectpythia.org/intake-cookbook","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Intake Cookbook","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"wlKsbmLjXI"}],"urlSource":"https://projectpythia.org/intake-cookbook","key":"q3KN6CeVYV"}],"key":"djUXaF72XT"}],"key":"chwWoZiQuO"}],"key":"PWbDsZVXMK"},{"type":"heading","depth":3,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"OhIG2fuusz"}],"identifier":"prerequisites","label":"Prerequisites","html_id":"prerequisites","implicit":true,"key":"lYd4KACq1L"},{"type":"table","position":{"start":{"line":23,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Concepts","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"JcWk2kLYyt"}],"key":"RCLeGa5ARA"},{"type":"tableCell","header":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Importance","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"SId4Asbx9b"}],"key":"mfhPdhS4FK"},{"type":"tableCell","header":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Notes","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"Igh1GPb4MZ"}],"key":"TRK1tRgPPh"}],"key":"uJsASmf1QR"},{"type":"tableRow","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"link","url":"/notebooks/healpix","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"HEALPix overview","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"NvvKXEQntp"}],"urlSource":"00-healpix","dataUrl":"/notebooks.healpix.json","internal":true,"protocol":"file","key":"TVlB40iSt6"}],"key":"ESIfxR5vGb"},{"type":"tableCell","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"Necessary","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"gaW4SOhCeM"}],"key":"QWAab40OXA"},{"type":"tableCell","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[],"key":"DL7Uj2aPy4"}],"key":"C293jePZuB"}],"key":"IjDOqcYqro"},{"type":"paragraph","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"strong","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Time to learn","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"AAlOXwTV1y"}],"key":"cAQX0yAneX"},{"type":"text","value":": 30 minutes","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"A3YyNPqXiW"}],"key":"JDdjj353gD"},{"type":"thematicBreak","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"gMRs7x32YP"}],"key":"hv5jRGnx9D"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Open data catalog","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"f34SmclVVH"}],"identifier":"open-data-catalog","label":"Open data catalog","html_id":"open-data-catalog","implicit":true,"key":"YMr2IsEcIo"}],"key":"rAgLfi7RnA"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"gf3cg2wrGp"}],"key":"ARWcvNjq9D"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"If you think that you first need to learn about Intake, Pythia‚Äôs ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"aQCHPICbsg"},{"type":"link","url":"https://projectpythia.org/intake-cookbook","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Intake Cookbook","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"U0qps8Mzak"}],"urlSource":"https://projectpythia.org/intake-cookbook","key":"EgcBUINnHE"},{"type":"text","value":" is a great resource to do so.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"A4chmJ16BH"}],"key":"qPlJywScN9"}],"key":"dJkbJg6pu1"}],"key":"S5964ssZtj"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let us use the online data catalog from the WCRP‚Äôs Digital Earths Global Hackathon 2025‚Äôs ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pxqMsNgjZd"},{"type":"link","url":"https://github.com/digital-earths-global-hackathon/catalog","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"catalog repository","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wAZpvs6zDE"}],"urlSource":"https://github.com/digital-earths-global-hackathon/catalog","error":true,"key":"b6kLjg7YrN"},{"type":"text","value":" using ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pIjuMp3g8I"},{"type":"inlineCode","value":"intake","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iFx3hEUbWw"},{"type":"text","value":" and read the output of the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yCpIp4NmTF"},{"type":"inlineCode","value":"ICON","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eLRaIUl7W5"},{"type":"text","value":" simulation run ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vuLTZqD6mu"},{"type":"inlineCode","value":"ngc4008","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LzAdmQTJYX"},{"type":"text","value":", which is stored in the HEALPix format:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"h2DzShz8pC"}],"key":"cCY9XRExFB"}],"key":"uVsQoFoYou"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import intake\n\n# Hackathon data catalogs\ncat_url = \"https://digital-earths-global-hackathon.github.io/catalog/catalog.yaml\"\ncat = intake.open_catalog(cat_url).online\nmodel_run = cat.icon_ngc4008","key":"Qc8qjxAW4O"},{"type":"outputs","id":"Nvt2DVOPLGvvil9sYKTyY","children":[],"key":"ESV22MgKNK"}],"key":"nbDv86rtI4"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"lpOJuIKsHf"}],"key":"zCeVqzoA5F"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We highly recommend checking out the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"tGaNHp8Vo5"},{"type":"link","url":"https://easy.gems.dkrz.de/Processing/healpix/healpix_starter.html#the-catalog","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"easy.gems documentation on HEALPix data catalogs","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yPbvQ5IRhS"}],"urlSource":"https://easy.gems.dkrz.de/Processing/healpix/healpix_starter.html#the-catalog","key":"qaPWjPmTru"},{"type":"text","value":" to understand the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"didkhZGW9g"},{"type":"inlineCode","value":"zoom","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"rXeEgFY8mA"},{"type":"text","value":" and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Lfp3YQ7dQu"},{"type":"inlineCode","value":"time","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"W7Uk0kuZrP"},{"type":"text","value":" parametrization of the model runs in the catalogs. In short, each model run has an independent ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"UiEgETwg4f"},{"type":"inlineCode","value":"Dataset","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"bFyTxMNGoQ"},{"type":"text","value":" for each combination of the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MTDZGJHTdQ"},{"type":"inlineCode","value":"zoom","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"DXA7eu5K0P"},{"type":"text","value":" and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"gjOHvziZYZ"},{"type":"inlineCode","value":"time","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ejdvrb3aC1"},{"type":"text","value":" parameters as depicted below (image credit ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FSa9FAsp9F"},{"type":"link","url":"https://easy.gems.dkrz.de/Processing/healpix/healpix_starterhtml#the-catalog","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"easy.gems documentation on HEALPix data catalogs","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"rprRJ7xTDn"}],"urlSource":"https://easy.gems.dkrz.de/Processing/healpix/healpix_starterhtml#the-catalog","key":"Zs3RtOoMgI"},{"type":"text","value":", and ‚ÄúPT30M‚Äù in this figure should be ‚ÄúPT15M‚Äù, 15 minutes, for the hackathon data we are using here)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ElRksmlgIX"}],"key":"VtHWW1kLyG"}],"key":"D2lcaqxrkx"}],"key":"k0tYcgdgym"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"image","url":"/healpix-cookbook/build/044ab28ae681f5d84334a3e152648819.png","alt":"Matplotlib Logo","width":600,"key":"JDc9yHekiP","urlSource":"https://easy.gems.dkrz.de/_images/ds_hierarchy.png"}],"key":"saCoUchS5O"}],"key":"lejwGsAGET"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Explore datasets","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nlZ5ygIJes"}],"identifier":"explore-datasets","label":"Explore datasets","html_id":"explore-datasets","implicit":true,"key":"qylboWJSWz"}],"key":"MBE4kWG7Tj"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"So, the coarsest dataset in this model run would be as follows (Even if we called it without specifying any parameters, i.e. ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wYVCD6LZTE"},{"type":"inlineCode","value":"model_run.to_dask()","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QJLGkTKAbh"},{"type":"text","value":", the result would be same as the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sdx0FdAX3S"},{"type":"inlineCode","value":"ds_coarsest","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qKP2UgI48F"},{"type":"text","value":" below since this model run defaults to the coarsest settings):","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aXU0FYnu05"}],"key":"EWIzxzNc6J"}],"key":"TJD3lPd19l"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds_coarsest = model_run(zoom=0, time=\"P1D\").to_dask()\nds_coarsest","key":"YMWJr8063o"},{"type":"outputs","id":"6YNWbbfOqVZ9mAYwsY0XB","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/healpix-cookbook-dev/lib/python3.13/site-packages/intake_xarray/base.py:21: FutureWarning: The return type of `Dataset.dims` will be changed to return a set of dimension names in future, in order to be more consistent with `DataArray.dims`. To access a mapping from dimension names to lengths, please use `Dataset.sizes`.\n  'dims': dict(self._ds.dims),\n"},"key":"a1XWPJpxTg"},{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":2,"metadata":{},"data":{"text/plain":{"content":"<xarray.Dataset> Size: 883MB\nDimensions:                              (time: 10958, depth_half: 73,\n                                          cell: 12, level_full: 90,\n                                          soil_depth_water_level: 5,\n                                          depth_full: 72, level_half: 91,\n                                          soil_depth_energy_level: 5, crs: 1)\nCoordinates:\n  * time                                 (time) datetime64[ns] 88kB 2020-01-0...\n  * depth_half                           (depth_half) float32 292B 0.0 ... 5....\n  * level_full                           (level_full) int32 360B 1 2 3 ... 89 90\n  * soil_depth_water_level               (soil_depth_water_level) float32 20B ...\n  * depth_full                           (depth_full) float32 288B 1.0 ... 5....\n  * level_half                           (level_half) int32 364B 1 2 3 ... 90 91\n  * soil_depth_energy_level              (soil_depth_energy_level) float32 20B ...\n  * crs                                  (crs) float32 4B nan\nDimensions without coordinates: cell\nData variables: (12/103)\n    A_tracer_v_to                        (time, depth_half, cell) float32 38MB ...\n    FrshFlux_IceSalt                     (time, cell) float32 526kB ...\n    FrshFlux_TotalIce                    (time, cell) float32 526kB ...\n    Qbot                                 (time, cell) float32 526kB ...\n    Qtop                                 (time, cell) float32 526kB ...\n    Wind_Speed_10m                       (time, cell) float32 526kB ...\n    ...                                   ...\n    vas                                  (time, cell) float32 526kB ...\n    w                                    (time, depth_half, cell) float32 38MB ...\n    wa_phy                               (time, level_half, cell) float32 48MB ...\n    zg                                   (level_full, cell) float32 4kB ...\n    zghalf                               (level_half, cell) float32 4kB ...\n    zos                                  (time, cell) float32 526kB ...","content_type":"text/plain"},"text/html":{"content_type":"text/html","hash":"17f37cbf528b1be9a6bf8c92426c2022","path":"/healpix-cookbook/build/17f37cbf528b1be9a6bf8c92426c2022.html"}}},"key":"dMfWVKYUqg"}],"key":"K57BYhrZEX"}],"key":"oHX8tCqaAQ"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now, let us look at a dataset with finer zoom level still with the coarsest time and another dataset with a finer zoom level and the finest time (which may be useful for daily analyses) dataset:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GgaIjM6w92"}],"key":"X5yepcweHL"}],"key":"pfGNg8at9m"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"ds_fine = model_run(zoom=7).to_dask()\nds_fine","key":"SFzkU2Ksvm"},{"type":"outputs","id":"hH3-wMSPW9LHAmy4SQ_uQ","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/healpix-cookbook-dev/lib/python3.13/site-packages/intake_xarray/base.py:21: FutureWarning: The return type of `Dataset.dims` will be changed to return a set of dimension names in future, in order to be more consistent with `DataArray.dims`. To access a mapping from dimension names to lengths, please use `Dataset.sizes`.\n  'dims': dict(self._ds.dims),\n"},"key":"H9NNc7PMzW"},{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":3,"metadata":{},"data":{"text/plain":{"content":"<xarray.Dataset> Size: 14TB\nDimensions:                              (time: 10958, depth_half: 73,\n                                          cell: 196608, level_full: 90,\n                                          soil_depth_water_level: 5,\n                                          depth_full: 72, level_half: 91,\n                                          soil_depth_energy_level: 5, crs: 1)\nCoordinates:\n  * time                                 (time) datetime64[ns] 88kB 2020-01-0...\n  * depth_half                           (depth_half) float32 292B 0.0 ... 5....\n  * level_full                           (level_full) int32 360B 1 2 3 ... 89 90\n  * soil_depth_water_level               (soil_depth_water_level) float32 20B ...\n  * depth_full                           (depth_full) float32 288B 1.0 ... 5....\n  * level_half                           (level_half) int32 364B 1 2 3 ... 90 91\n  * soil_depth_energy_level              (soil_depth_energy_level) float32 20B ...\n  * crs                                  (crs) float32 4B nan\nDimensions without coordinates: cell\nData variables: (12/103)\n    A_tracer_v_to                        (time, depth_half, cell) float32 629GB ...\n    FrshFlux_IceSalt                     (time, cell) float32 9GB ...\n    FrshFlux_TotalIce                    (time, cell) float32 9GB ...\n    Qbot                                 (time, cell) float32 9GB ...\n    Qtop                                 (time, cell) float32 9GB ...\n    Wind_Speed_10m                       (time, cell) float32 9GB ...\n    ...                                   ...\n    vas                                  (time, cell) float32 9GB ...\n    w                                    (time, depth_half, cell) float32 629GB ...\n    wa_phy                               (time, level_half, cell) float32 784GB ...\n    zg                                   (level_full, cell) float32 71MB ...\n    zghalf                               (level_half, cell) float32 72MB ...\n    zos                                  (time, cell) float32 9GB ...","content_type":"text/plain"},"text/html":{"content_type":"text/html","hash":"c458aeee88e2b59cc9214b20c68ab13d","path":"/healpix-cookbook/build/c458aeee88e2b59cc9214b20c68ab13d.html"}}},"key":"SmRVrjHdam"}],"key":"ngbAd2bm7V"}],"key":"siAg54vhEI"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds_finesttime = model_run(zoom=6, time=\"PT15M\").to_dask()\nds_finesttime","key":"vv1NVdCexi"},{"type":"outputs","id":"uBKGi00RhN6CwdHgd5PI_","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/healpix-cookbook-dev/lib/python3.13/site-packages/intake_xarray/base.py:21: FutureWarning: The return type of `Dataset.dims` will be changed to return a set of dimension names in future, in order to be more consistent with `DataArray.dims`. To access a mapping from dimension names to lengths, please use `Dataset.sizes`.\n  'dims': dict(self._ds.dims),\n"},"key":"omp1z1Fv1X"},{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":4,"metadata":{},"data":{"text/plain":{"content":"<xarray.Dataset> Size: 1TB\nDimensions:  (time: 1051968, cell: 49152, crs: 1)\nCoordinates:\n  * time     (time) datetime64[ns] 8MB 2020-01-01T00:15:00 ... 2050-01-01\n  * crs      (crs) float32 4B nan\nDimensions without coordinates: cell\nData variables:\n    pr       (time, cell) float32 207GB ...\n    qv2m     (time, cell) float32 207GB ...\n    rlut     (time, cell) float32 207GB ...\n    rsds     (time, cell) float32 207GB ...\n    sfcwind  (time, cell) float32 207GB ...\n    tas      (time, cell) float32 207GB ...","content_type":"text/plain"},"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in notebooks */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n  line-height: 1.6;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-obj-name,\n.xr-group-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-group-name::before {\n  content: \"üìÅ\";\n  padding-right: 0.3em;\n}\n\n.xr-group-name,\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n  margin-block-start: 0;\n  margin-block-end: 0;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n  margin: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"‚ñ∫\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"‚ñº\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-top: 4px;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-group-box {\n  display: inline-grid;\n  grid-template-columns: 0px 20px auto;\n  width: 100%;\n}\n\n.xr-group-box-vline {\n  grid-column-start: 1;\n  border-right: 0.2em solid;\n  border-color: var(--xr-border-color);\n  width: 0px;\n}\n\n.xr-group-box-hline {\n  grid-column-start: 2;\n  grid-row-start: 1;\n  height: 1em;\n  width: 20px;\n  border-bottom: 0.2em solid;\n  border-color: var(--xr-border-color);\n}\n\n.xr-group-box-contents {\n  grid-column-start: 3;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 1TB\nDimensions:  (time: 1051968, cell: 49152, crs: 1)\nCoordinates:\n  * time     (time) datetime64[ns] 8MB 2020-01-01T00:15:00 ... 2050-01-01\n  * crs      (crs) float32 4B nan\nDimensions without coordinates: cell\nData variables:\n    pr       (time, cell) float32 207GB ...\n    qv2m     (time, cell) float32 207GB ...\n    rlut     (time, cell) float32 207GB ...\n    rsds     (time, cell) float32 207GB ...\n    sfcwind  (time, cell) float32 207GB ...\n    tas      (time, cell) float32 207GB ...</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-71543846-1aa2-42a6-b6a0-1d68a8da3987' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-71543846-1aa2-42a6-b6a0-1d68a8da3987' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 1051968</li><li><span>cell</span>: 49152</li><li><span class='xr-has-index'>crs</span>: 1</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-02d9075b-7409-42a5-a09b-f8938b559316' class='xr-section-summary-in' type='checkbox'  checked><label for='section-02d9075b-7409-42a5-a09b-f8938b559316' class='xr-section-summary' >Coordinates: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2020-01-01T00:15:00 ... 2050-01-01</div><input id='attrs-38fa93af-8006-499d-81c0-576319d8d087' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-38fa93af-8006-499d-81c0-576319d8d087' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9e2b9d7c-a6b4-404b-ad5a-8dd4f4c67445' class='xr-var-data-in' type='checkbox'><label for='data-9e2b9d7c-a6b4-404b-ad5a-8dd4f4c67445' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>axis :</span></dt><dd>T</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;2020-01-01T00:15:00.000000000&#x27;, &#x27;2020-01-01T00:30:00.000000000&#x27;,\n       &#x27;2020-01-01T00:45:00.000000000&#x27;, ..., &#x27;2049-12-31T23:30:00.000000000&#x27;,\n       &#x27;2049-12-31T23:45:00.000000000&#x27;, &#x27;2050-01-01T00:00:00.000000000&#x27;],\n      shape=(1051968,), dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>crs</span></div><div class='xr-var-dims'>(crs)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan</div><input id='attrs-3d6ef4a2-d02a-4f3a-a23a-865b4ee3aab8' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-3d6ef4a2-d02a-4f3a-a23a-865b4ee3aab8' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d2574833-a1aa-4908-bfa6-e2194fa4c524' class='xr-var-data-in' type='checkbox'><label for='data-d2574833-a1aa-4908-bfa6-e2194fa4c524' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>grid_mapping_name :</span></dt><dd>healpix</dd><dt><span>healpix_nside :</span></dt><dd>64</dd><dt><span>healpix_order :</span></dt><dd>nest</dd></dl></div><div class='xr-var-data'><pre>array([nan], dtype=float32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-0b66cc15-b4c1-443e-8602-235d9c2ad5ae' class='xr-section-summary-in' type='checkbox'  checked><label for='section-0b66cc15-b4c1-443e-8602-235d9c2ad5ae' class='xr-section-summary' >Data variables: <span>(6)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>pr</span></div><div class='xr-var-dims'>(time, cell)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-9c9f091e-f765-42ce-96db-238e099ef823' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-9c9f091e-f765-42ce-96db-238e099ef823' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-418ee748-0576-4bff-aa7b-4c950b13e4ac' class='xr-var-data-in' type='checkbox'><label for='data-418ee748-0576-4bff-aa7b-4c950b13e4ac' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>cell_methods :</span></dt><dd>time: mean cell: mean</dd><dt><span>component :</span></dt><dd>atmo</dd><dt><span>grid_mapping :</span></dt><dd>crs</dd><dt><span>long_name :</span></dt><dd>precipitation flux</dd><dt><span>units :</span></dt><dd>kg m-2 s-1</dd><dt><span>vgrid :</span></dt><dd>surface</dd></dl></div><div class='xr-var-data'><pre>[51706331136 values with dtype=float32]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>qv2m</span></div><div class='xr-var-dims'>(time, cell)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-53b15b1d-bc98-4631-9d57-6c8b00f39fd6' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-53b15b1d-bc98-4631-9d57-6c8b00f39fd6' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3fe90230-4182-492f-a111-904b5f041757' class='xr-var-data-in' type='checkbox'><label for='data-3fe90230-4182-492f-a111-904b5f041757' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>cell_methods :</span></dt><dd>time: mean cell: mean</dd><dt><span>component :</span></dt><dd>atmo</dd><dt><span>grid_mapping :</span></dt><dd>crs</dd><dt><span>long_name :</span></dt><dd>specific humidity in 2m</dd><dt><span>units :</span></dt><dd>kg kg-1</dd><dt><span>vgrid :</span></dt><dd>height_2m</dd></dl></div><div class='xr-var-data'><pre>[51706331136 values with dtype=float32]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>rlut</span></div><div class='xr-var-dims'>(time, cell)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-429f7d90-e333-432c-bce3-90e283877163' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-429f7d90-e333-432c-bce3-90e283877163' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-fffd6aa8-ca9b-4ece-850a-920f485e5ff3' class='xr-var-data-in' type='checkbox'><label for='data-fffd6aa8-ca9b-4ece-850a-920f485e5ff3' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>cell_methods :</span></dt><dd>time: mean cell: mean</dd><dt><span>component :</span></dt><dd>atmo</dd><dt><span>grid_mapping :</span></dt><dd>crs</dd><dt><span>long_name :</span></dt><dd>toa outgoing longwave radiation</dd><dt><span>standard_name :</span></dt><dd>toa_outgoing_longwave_flux</dd><dt><span>units :</span></dt><dd>W m-2</dd><dt><span>vgrid :</span></dt><dd>toa</dd></dl></div><div class='xr-var-data'><pre>[51706331136 values with dtype=float32]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>rsds</span></div><div class='xr-var-dims'>(time, cell)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-212fdf68-46be-4176-a39e-b0ebd2ae6da5' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-212fdf68-46be-4176-a39e-b0ebd2ae6da5' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-06df116f-bd57-4a2a-9423-008a6642433b' class='xr-var-data-in' type='checkbox'><label for='data-06df116f-bd57-4a2a-9423-008a6642433b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>cell_methods :</span></dt><dd>time: mean cell: mean</dd><dt><span>component :</span></dt><dd>atmo</dd><dt><span>grid_mapping :</span></dt><dd>crs</dd><dt><span>long_name :</span></dt><dd>surface downwelling shortwave radiation</dd><dt><span>standard_name :</span></dt><dd>surface_downwelling_shortwave_flux_in_air</dd><dt><span>units :</span></dt><dd>W m-2</dd><dt><span>vgrid :</span></dt><dd>surface</dd></dl></div><div class='xr-var-data'><pre>[51706331136 values with dtype=float32]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>sfcwind</span></div><div class='xr-var-dims'>(time, cell)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-552a8cce-0dbb-467c-8ce3-1c58a4a0e986' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-552a8cce-0dbb-467c-8ce3-1c58a4a0e986' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a135b47f-132b-4b76-a5b6-a7dec804135e' class='xr-var-data-in' type='checkbox'><label for='data-a135b47f-132b-4b76-a5b6-a7dec804135e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>cell_methods :</span></dt><dd>time: mean cell: mean</dd><dt><span>component :</span></dt><dd>atmo</dd><dt><span>grid_mapping :</span></dt><dd>crs</dd><dt><span>long_name :</span></dt><dd>10m windspeed</dd><dt><span>units :</span></dt><dd>m s-1</dd><dt><span>vgrid :</span></dt><dd>height_10m</dd></dl></div><div class='xr-var-data'><pre>[51706331136 values with dtype=float32]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>tas</span></div><div class='xr-var-dims'>(time, cell)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-1a27b6a1-be04-4aa9-819a-54a1102cfcc1' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-1a27b6a1-be04-4aa9-819a-54a1102cfcc1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-bb22b114-d80e-44f1-afec-871fb967255c' class='xr-var-data-in' type='checkbox'><label for='data-bb22b114-d80e-44f1-afec-871fb967255c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>cell_methods :</span></dt><dd>time: mean cell: mean</dd><dt><span>component :</span></dt><dd>atmo</dd><dt><span>grid_mapping :</span></dt><dd>crs</dd><dt><span>long_name :</span></dt><dd>temperature in 2m</dd><dt><span>standard_name :</span></dt><dd>air_temperature</dd><dt><span>units :</span></dt><dd>K</dd><dt><span>vgrid :</span></dt><dd>height_2m</dd></dl></div><div class='xr-var-data'><pre>[51706331136 values with dtype=float32]</pre></div></li></ul></div></li></ul></div></div>","content_type":"text/html"}}},"key":"Ekh3r6V5v6"}],"key":"DWjE4WZDmC"}],"key":"H9SwFnzijR"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"HEALPix basic stats with the","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DX3dzQJHuf"},{"type":"inlineCode","value":"healpix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zRCkN7DbX0"},{"type":"text","value":" package","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QQVlnwf6QF"}],"identifier":"healpix-basic-stats-with-thehealpix-package","label":"HEALPix basic stats with thehealpix package","html_id":"healpix-basic-stats-with-thehealpix-package","implicit":true,"key":"zDxpjAiHe9"}],"key":"B79pxybeK4"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let us look at the global and Boulder, CO, USA temperature averages for a 3-year time-slice of the whole dataset.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JoSuvYhyzF"}],"key":"vPDZbNJkMY"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"For this, we will first need to define a few HEALPix helper functions to get the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"G4hGZXJbDK"},{"type":"inlineCode","value":"nest","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"R1VvYLwo94"},{"type":"text","value":" and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"gHBHRPmuB7"},{"type":"inlineCode","value":"nside","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"d1tbW5AWVM"},{"type":"text","value":" values from the dataset, then find the HEALPix pixel that Boulder coords fall in, and finally plot those temporal averages using ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"z8wj9SWc3d"},{"type":"inlineCode","value":"matplotlib","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FI2XyXtrjf"},{"type":"text","value":".","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"DJgVzcwV53"}],"key":"HobhTZ0sC6"}],"key":"grGZHGdlTM"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import healpix as hp\nimport matplotlib.pylab as plt","key":"lULE4UtNcY"},{"type":"outputs","id":"6ATCXf4xPfRtHGTjzU9N3","children":[],"key":"uA84axMg2q"}],"key":"duKLNcSAQT"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"HEALPix helper functions","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PHEJBxvJ4Q"}],"identifier":"healpix-helper-functions","label":"HEALPix helper functions","html_id":"healpix-helper-functions","implicit":true,"key":"s41KL8zNQx"}],"key":"eOOUPIzpJY"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def get_nest(ds):\n    return ds.crs.healpix_order == \"nest\"\n    \ndef get_nside(ds):\n    return ds.crs.healpix_nside","key":"RsmZR68IGR"},{"type":"outputs","id":"VOsHAX3LvLpEwgQQGeDDs","children":[],"key":"ef256lqZbc"}],"key":"j7NhhULBeT"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"HEALPix pixel containing Boulder‚Äôs coords","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"s872v1KNzE"}],"identifier":"healpix-pixel-containing-boulders-coords","label":"HEALPix pixel containing Boulder‚Äôs coords","html_id":"healpix-pixel-containing-boulders-coords","implicit":true,"key":"zvxyY4SWR4"}],"key":"jb1TLKwLln"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"%%time\nboulder_lon = -105.2747\nboulder_lat = 40.0190\n\nboulder_pixel = hp.ang2pix(\n    get_nside(ds_fine), boulder_lon, boulder_lat, lonlat=True, nest=get_nest(ds_fine)\n)","key":"okRELEue93"},{"type":"outputs","id":"sY0hKXelGKBt_aDkupFvr","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"CPU times: user 356 Œºs, sys: 0 ns, total: 356 Œºs\nWall time: 361 Œºs\n"},"key":"qZObPITTv8"}],"key":"SPJaeyRSUD"}],"key":"BYNgMCERoG"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Global and Boulder‚Äôs temperature averages","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YbcGjQRfzI"}],"identifier":"global-and-boulders-temperature-averages","label":"Global and Boulder‚Äôs temperature averages","html_id":"global-and-boulders-temperature-averages","implicit":true,"key":"o7bnB5n8D0"}],"key":"VjkmYRoUOR"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"%%time\ntime_slice = slice(\"2020-01-02T00:00:00.000000000\", \"2023-01-01T00:00:00.000000000\")\n\nds_fine.tas.sel(time=time_slice).isel(cell=boulder_pixel).plot(label=\"Boulder\")\n\nds_coarsest.tas.sel(time=time_slice).mean(\"cell\").plot(label=\"Global mean\")\n\nplt.legend()","key":"Q4Pkq4Z26K"},{"type":"outputs","id":"zl2xLsO3lBHeQK5IQWuez","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"CPU times: user 673 ms, sys: 295 ms, total: 968 ms\nWall time: 14.2 s\n"},"key":"jdVNg0dBDL"},{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"fed2c2a5019ef250662454cf650d8d2c","path":"/healpix-cookbook/build/fed2c2a5019ef250662454cf650d8d2c.png"}}},"key":"zY1ps08bPr"}],"key":"f9bNDUUdux"}],"key":"XIsMW2WVj3"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plotting with easy.gems and cartopy","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Fja3XrMknU"}],"identifier":"plotting-with-easy-gems-and-cartopy","label":"Plotting with easy.gems and cartopy","html_id":"plotting-with-easy-gems-and-cartopy","implicit":true,"key":"psgYrdYoLc"}],"key":"l6fBRX7RTn"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In this part, we will look at the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sLaRnTqTvM"},{"type":"inlineCode","value":" healpix_show","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"t2DrnVxt1E"},{"type":"text","value":" function that is provided by ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"II6v5jMVmP"},{"type":"inlineCode","value":"easy.gems","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nf93znBcSy"},{"type":"text","value":" for convenient HEALPix plotting.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AEdb5nsgKJ"}],"key":"vl8NIfUrLJ"}],"key":"ULhzGDaCYK"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import easygems.healpix as eghp\n\nimport cartopy.crs as ccrs\nimport cartopy.feature as cf\nimport cmocean","key":"HhSxl2SAXt"},{"type":"outputs","id":"2uKBFKShLV_J38u8L3LVe","children":[],"key":"gWqZFnsiOO"}],"key":"Qv5w03Vaea"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Global plots","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fcHZfNdJdZ"}],"identifier":"global-plots","label":"Global plots","html_id":"global-plots","implicit":true,"key":"AMREh0nYAm"}],"key":"UNwWCYQbJM"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Most of this is ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Sr1MfDpgb1"},{"type":"inlineCode","value":"matplotlib","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"y1fl0gZPc4"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"c7TrcE4qwh"},{"type":"inlineCode","value":"cartopy","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kk6Jcv7sQC"},{"type":"text","value":" code, but have a look at how ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zHPfJEndpe"},{"type":"inlineCode","value":"eghp.healpix_show()","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sc5kDs9QN9"},{"type":"text","value":" is called. The following code will plot global temperature (at the first timestep for simplicity)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vTJU5Yr7l2"}],"key":"lCRFwZxcqg"}],"key":"MGXFaIPwx6"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"projection = ccrs.Robinson(central_longitude=-135.5808361)\n\nfig, ax = plt.subplots(\n    figsize=(8, 4), subplot_kw={\"projection\": projection}, constrained_layout=True\n)\n\nax.set_global()\n\neghp.healpix_show(ds_fine.tas.isel(time=0), ax=ax, cmap=cmocean.cm.thermal)\n\nax.add_feature(cf.COASTLINE, linewidth=0.8)\nax.add_feature(cf.BORDERS, linewidth=0.4)","key":"JGf2JmgtlQ"},{"type":"outputs","id":"NGG1GIu1s6CauGwdxnkZy","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":10,"metadata":{},"data":{"text/plain":{"content":"<cartopy.mpl.feature_artist.FeatureArtist at 0x7f09623cd090>","content_type":"text/plain"}}},"key":"MRSe810tPT"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/healpix-cookbook-dev/lib/python3.13/site-packages/cartopy/io/__init__.py:242: DownloadWarning: Downloading: https://naturalearth.s3.amazonaws.com/110m_physical/ne_110m_coastline.zip\n  warnings.warn(f'Downloading: {url}', DownloadWarning)\n"},"key":"xYhnU7oG0Q"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/healpix-cookbook-dev/lib/python3.13/site-packages/cartopy/io/__init__.py:242: DownloadWarning: Downloading: https://naturalearth.s3.amazonaws.com/110m_cultural/ne_110m_admin_0_boundary_lines_land.zip\n  warnings.warn(f'Downloading: {url}', DownloadWarning)\n"},"key":"MOAjNc46KP"},{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 800x400 with 1 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"0204a16b1c1ac1f66850037862fe2ad0","path":"/healpix-cookbook/build/0204a16b1c1ac1f66850037862fe2ad0.png"}}},"key":"PnBV0OFh5Y"}],"key":"jYOFHlYQK7"}],"key":"X4BFzGWme0"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Regional plots","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jQXWDJgF0F"}],"identifier":"regional-plots","label":"Regional plots","html_id":"regional-plots","implicit":true,"key":"YVR7uACdiu"}],"key":"ECyoAXF4UR"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"If plotting a region of interest is desired, it is also possible through setting extents of the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LlAyWD7M7q"},{"type":"inlineCode","value":"matplotlib","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Evfmy3dtZV"},{"type":"text","value":" plot.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oEendSyiE8"}],"key":"vw043u4N6D"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Let us look into USA map using the Boulder, CO, USA coords we had used before for simplicity:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"vQrcOE45jR"}],"key":"jQrKzt6yXm"}],"key":"Z34fTCGpeV"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"projection = ccrs.Robinson(central_longitude=boulder_lon)\n\nfig, ax = plt.subplots(\n    figsize=(8, 4), subplot_kw={\"projection\": projection}, constrained_layout=True\n)\nax.set_extent([boulder_lon-20, boulder_lon+40, boulder_lat-20, boulder_lat+10], crs=ccrs.PlateCarree())\n\neghp.healpix_show(ds_fine.tas.isel(time=0), ax=ax, cmap=cmocean.cm.thermal)\n\nax.add_feature(cf.COASTLINE, linewidth=0.8)\nax.add_feature(cf.BORDERS, linewidth=0.4)","key":"t0XisSy3p7"},{"type":"outputs","id":"xq3AfjEaPO_jVE-Ps-j5b","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":11,"metadata":{},"data":{"text/plain":{"content":"<cartopy.mpl.feature_artist.FeatureArtist at 0x7f09622920d0>","content_type":"text/plain"}}},"key":"cIXfeLVeA6"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/healpix-cookbook-dev/lib/python3.13/site-packages/cartopy/io/__init__.py:242: DownloadWarning: Downloading: https://naturalearth.s3.amazonaws.com/50m_physical/ne_50m_coastline.zip\n  warnings.warn(f'Downloading: {url}', DownloadWarning)\n"},"key":"IfodWUqAL8"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/healpix-cookbook-dev/lib/python3.13/site-packages/cartopy/io/__init__.py:242: DownloadWarning: Downloading: https://naturalearth.s3.amazonaws.com/50m_cultural/ne_50m_admin_0_boundary_lines_land.zip\n  warnings.warn(f'Downloading: {url}', DownloadWarning)\n"},"key":"CXuzBun3aM"},{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 800x400 with 1 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"f08864503acaa21752c3422a12e83f06","path":"/healpix-cookbook/build/f08864503acaa21752c3422a12e83f06.png"}}},"key":"PR1fvhGEjy"}],"key":"MpaxcrfOQ7"}],"key":"t4y0Ov2pJy"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Further ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OY7TyGRIcH"},{"type":"inlineCode","value":"easy.gems","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lBJmcwUMOL"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"f5wVQBZf9s"},{"type":"inlineCode","value":"healpix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ffe4H8JWgl"}],"identifier":"further-easy-gems-and-healpix","label":"Further easy.gems and healpix","html_id":"further-easy-gems-and-healpix","implicit":true,"key":"GmAHX2hBK7"}],"key":"aeNPYanQJ8"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"These are only a sampling of HEALPix and easy.gems capabilities; if you are interested in learning more, be sure to check out the usage examples at the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HqD2b8jJCZ"},{"type":"link","url":"https://easy.gems.dkrz.de/Processing/healpix/index.html#","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"easy.gems HEALPix Documentation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EodqYcbSPi"}],"urlSource":"https://easy.gems.dkrz.de/Processing/healpix/index.html#","key":"q21P5kUARN"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"F3pmezwlLS"}],"key":"CINDFUMS1C"}],"key":"HAZuqaSihc"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"What is next?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wUJ07RZbQu"}],"identifier":"what-is-next","label":"What is next?","html_id":"what-is-next","implicit":true,"key":"aDHWyokjdp"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mjdDxIJDW4"},{"type":"link","url":"/notebooks/uxarray","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"next section","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"HCb1q4Y0nQ"}],"urlSource":"02-uxarray","dataUrl":"/notebooks.uxarray.json","internal":true,"protocol":"file","key":"fKHrkxyANI"},{"type":"text","value":" will provide an UXarray workflow that loads in and analyzes & visualizes HEALPix data.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Rjq4rC2imR"}],"key":"KMcp6pW8vP"}],"key":"jw4Xnnb37A"}],"key":"oWcVgHJ7Q4"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"HEALPix Overview","url":"/notebooks/healpix","group":"Introduction to HEALPix"},"next":{"title":"UXarray for Basic HEALPix Statistics & Visualization","url":"/notebooks/uxarray","group":"HEALPix Analysis & Visualization"}}},"domain":"http://localhost:3000"}